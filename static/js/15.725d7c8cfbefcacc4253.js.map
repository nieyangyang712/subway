{"version":3,"sources":["webpack:///static/js/15.725d7c8cfbefcacc4253.js","webpack:///./src/views/material/modal/audition.vue?fb52**","webpack:///audition.vue?9d64**","webpack:///./src/views/material/modal/audition.vue?dc7b***"],"names":["webpackJsonp","232","module","exports","__webpack_require__","Component","255","__webpack_exports__","Object","defineProperty","value","$","props","data","auditionModal","experiment","infoId","methods","audition","index","this","console","log","historyData","src","materialId","accept","_this","fileURLS","$axios","method","url","baseURL","params","infoid","then","res","code","result","alert","msg","catch","error","palyStop","audio","i","length","pause","ok","name","$Message","info","cancel","call","256","render","_vm","_h","$createElement","_c","_self","attrs","title","on","on-ok","on-cancel","model","callback","$$v","expression","label-position","label-width","getter","label","_v","_s","fileSize","_e","fileDuration","staticStyle","height","margin-top","id","controls","staticRenderFns"],"mappings":"AAAAA,cAAc,KAERC,IACA,SAAUC,EAAQC,EAASC,GCHjC,GAAAC,GAAAD,EAAA,GAEAA,EAAA,KAEAA,EAAA,KAEA,KAEA,KAEA,KAGAF,GAAAC,QAAAE,EAAAF,SDUMG,IACA,SAAUJ,EAAQK,EAAqBH,GAE7C,YACAI,QAAOC,eAAeF,EAAqB,cAAgBG,OAAO,IACtC,SAASC,GETrCJ,EAAA,SFYIK,OEVJ,eFWIC,KAAM,WACF,OACIC,eEVZ,EFWYC,WEVZ,EFWYC,OETZ,IFaIC,SACIC,SAAU,SAAkBC,GACxBC,KAAKL,WEXjBI,EFYYE,QAAQC,IAAIF,KAAKG,YEV7BJ,IFYYR,EAAE,WAAW,GAAGa,IEX5B,GFYgB,cAAgBJ,MAAKG,YAAYJ,GACjCC,KAAKJ,OAASI,KAAKG,YAAYJ,GEX/CM,WFagBL,KAAKJ,OAASI,KAAKG,YAAYJ,GEX/CH,OFaYI,KEXZM,UFaQA,OAAQ,WEXhB,GAAAC,GAAAP,KFcgBQ,EEbhB,yBFcYR,MAAKS,QACDC,OEbhB,MFcgBC,IAAKX,KAAKY,QEb1B,qCFcgBC,QAAUC,OAAQd,KEZlCJ,UAJAmB,KAAA,SAAAC,GFkBgBf,QAAQC,IAAIc,EEZ5BvB,MFaqC,GAAjBuB,EAAIvB,KAAKwB,MACTV,EAAMb,eEZ1B,EFaoBc,GAAsBQ,EAAIvB,KEZ9CyB,OFaoB3B,EAAE,WAAW,GAAGa,IEZpCI,GFa4C,GAAjBQ,EAAIvB,KAAKwB,MAChBE,MAAMH,EAAIvB,KEZ9B2B,OAEAC,MAAA,SAAAC,GFagBrB,QAAQC,IEXxBoB,MFcQC,SAAU,WAEN,IAAK,GADDC,GAAQjC,EEVxB,SFWqBkC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAC9BD,EAAMC,GEVtBE,SFaQC,GAAI,SAAYC,GACZ7B,KAAK8B,SAASC,KEV1B,OFWY/B,KEVZuB,YFYQS,OAAQ,SAAgBH,GACpB7B,KAAK8B,SAASC,KEV1B,kBFWY/B,KEVZuB,eFc6BU,KAAK9C,EAAqBH,EAAoB,OAIrEkD,IACA,SAAUpD,EAAQC,GG/FxBD,EAAAC,SAAgBoD,OAAA,WAAmB,GAAAC,GAAApC,KAAaqC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OAAAA,EAAA,SACAE,OACAC,MAAA,MAEAC,IACAC,QAAAR,EAAAR,GACAiB,YAAAT,EAAAJ,QAEAc,OACAxD,MAAA8C,EAAA,cACAW,SAAA,SAAAC,GACAZ,EAAA1C,cAAAsD,GAEAC,WAAA,mBAEGV,EAAA,QACHE,OACAS,iBAAA,QACAC,cAAA,MAEGZ,EAAA,OACHE,OACAW,OAAA,QAEGhB,EAAA,cAAAG,EAAA,YACHE,OACAY,MAAA,UAEGd,EAAA,QAAAH,EAAAkB,GAAAlB,EAAAmB,GAAAnB,EAAAjC,YAAAiC,EAAAzC,YAAA6D,eAAApB,EAAAqB,KAAArB,EAAAkB,GAAA,KAAAlB,EAAA,cAAAG,EAAA,YACHE,OACAY,MAAA,UAEGd,EAAA,QAAAH,EAAAkB,GAAAlB,EAAAmB,GAAAnB,EAAAjC,YAAAiC,EAAAzC,YAAA+D,mBAAAtB,EAAAqB,KAAArB,EAAAkB,GAAA,KAAAf,EAAA,SACHoB,aACAC,OAAA,OACAC,aAAA,QAEApB,OACAqB,GAAA,SACAC,SAAA,eAEG,gBACFC","file":"static/js/15.725d7c8cfbefcacc4253.js","sourcesContent":["webpackJsonp([15],{\n\n/***/ 232:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(255),\n  /* template */\n  __webpack_require__(256),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 255:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* WEBPACK VAR INJECTION */(function($) {\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    props: ['historyData'],\n    data: function data() {\n        return {\n            auditionModal: false,\n            experiment: 0,\n            infoId: 0\n        };\n    },\n\n    methods: {\n        audition: function audition(index) {\n            this.experiment = index;\n            console.log(this.historyData[index]);\n\n            $(\"#audios\")[0].src = \"\";\n            if (\"materialId\" in this.historyData[index]) {\n                this.infoId = this.historyData[index].materialId;\n            } else {\n                this.infoId = this.historyData[index].infoId;\n            }\n            this.accept();\n        },\n        accept: function accept() {\n            var _this = this;\n\n            var fileURLS = 'data:audio/mpeg;base64,';\n            this.$axios({\n                method: 'get',\n                url: this.baseURL + '/material/MaterialInfo/getFileByte',\n                params: { infoid: this.infoId }\n            }).then(function (res) {\n                console.log(res.data);\n                if (res.data.code == 0) {\n                    _this.auditionModal = true;\n                    fileURLS = fileURLS + res.data.result;\n                    $(\"#audios\")[0].src = fileURLS;\n                } else if (res.data.code == 1) {\n                    alert(res.data.msg);\n                }\n            }).catch(function (error) {\n                console.log(error);\n            });\n        },\n        palyStop: function palyStop() {\n            var audio = $(\"audio\");\n            for (var i = 0; i < audio.length; i++) {\n                audio[i].pause();\n            }\n        },\n        ok: function ok(name) {\n            this.$Message.info('OK!');\n            this.palyStop();\n        },\n        cancel: function cancel(name) {\n            this.$Message.info('Clicked cancel');\n            this.palyStop();\n        }\n    }\n});\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(253)))\n\n/***/ }),\n\n/***/ 256:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('Modal', {\n    attrs: {\n      \"title\": \"试听\"\n    },\n    on: {\n      \"on-ok\": _vm.ok,\n      \"on-cancel\": _vm.cancel\n    },\n    model: {\n      value: (_vm.auditionModal),\n      callback: function($$v) {\n        _vm.auditionModal = $$v\n      },\n      expression: \"auditionModal\"\n    }\n  }, [_c('Form', {\n    attrs: {\n      \"label-position\": \"right\",\n      \"label-width\": 80\n    }\n  }, [_c('Row', {\n    attrs: {\n      \"getter\": \"40\"\n    }\n  }, [(_vm.auditionModal) ? _c('FormItem', {\n    attrs: {\n      \"label\": \"素材大小\"\n    }\n  }, [_c('span', [_vm._v(_vm._s(_vm.historyData[_vm.experiment].fileSize))])]) : _vm._e(), _vm._v(\" \"), (_vm.auditionModal) ? _c('FormItem', {\n    attrs: {\n      \"label\": \"素材时长\"\n    }\n  }, [_c('span', [_vm._v(_vm._s(_vm.historyData[_vm.experiment].fileDuration))])]) : _vm._e(), _vm._v(\" \"), _c('audio', {\n    staticStyle: {\n      \"height\": \"35px\",\n      \"margin-top\": \"20px\"\n    },\n    attrs: {\n      \"id\": \"audios\",\n      \"controls\": \"controls\"\n    }\n  })], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/15.725d7c8cfbefcacc4253.js","var Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./audition.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6408ef61\\\"}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./audition.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/material/modal/audition.vue\n// module id = 232\n// module chunks = 0 1 2 15","<template>\r\n    <div>\r\n        <Modal v-model=\"auditionModal\" title=\"试听\" @on-ok=\"ok\" @on-cancel=\"cancel\" >\r\n            <Form label-position=\"right\" :label-width=\"80\">\r\n                <Row getter=\"40\">\r\n                <FormItem v-if=\"auditionModal\" label=\"素材大小\">\r\n                    <span>{{historyData[experiment].fileSize}}</span>\r\n                </FormItem>\r\n                <FormItem v-if=\"auditionModal\" label=\"素材时长\">\r\n                    <span>{{historyData[experiment].fileDuration}}</span>\r\n                </FormItem>\r\n                <audio id=\"audios\" controls=\"controls\" style=\"height:35px;margin-top:20px;\"></audio>\r\n                </Row>\r\n            </Form>\r\n        </Modal>\r\n    </div>\r\n        \r\n</template>\r\n<script>\r\nexport default {\r\n    props:['historyData'],\r\n    data(){\r\n        return{\r\n            auditionModal: false, //试听\r\n            experiment:0,\r\n            infoId:0,\r\n        }\r\n    },\r\n    methods:{\r\n        audition (index) {   //试听\r\n            this.experiment = index;\r\n            console.log(this.historyData[index]);\r\n            \r\n            $(\"#audios\")[0].src = \"\";\r\n            if(\"materialId\" in this.historyData[index]){\r\n                this.infoId = this.historyData[index].materialId;\r\n            }else{\r\n                this.infoId = this.historyData[index].infoId\r\n            }\r\n            this.accept();\r\n        },\r\n        accept(){\r\n            let fileURLS = 'data:audio/mpeg;base64,';\r\n            this.$axios({\r\n                method: 'get',\r\n                url: this.baseURL + '/material/MaterialInfo/getFileByte',\r\n                params:{infoid:this.infoId}\r\n            })\r\n            .then((res)=> {\r\n                console.log(res.data)\r\n                if(res.data.code == 0){\r\n                    this.auditionModal = true;\r\n                    fileURLS = fileURLS+res.data.result;\r\n                    $(\"#audios\")[0].src=fileURLS;\r\n                }else if(res.data.code == 1){\r\n                    alert(res.data.msg)\r\n                }\r\n            })\r\n            .catch((error) =>{\r\n                console.log(error)\r\n            }\r\n            )\r\n        },\r\n        palyStop(){   //关闭弹框时停止音频播放\r\n            let audio = $(\"audio\");\r\n            for(let i=0; i<audio.length; i++){\r\n                audio[i].pause()\r\n            }\r\n        },\r\n        ok (name) {\r\n            this.$Message.info('OK!');\r\n            this.palyStop()\r\n        },\r\n        cancel (name) {\r\n            this.$Message.info('Clicked cancel');\r\n            this.palyStop()\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// audition.vue?2b23578a","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('Modal', {\n    attrs: {\n      \"title\": \"试听\"\n    },\n    on: {\n      \"on-ok\": _vm.ok,\n      \"on-cancel\": _vm.cancel\n    },\n    model: {\n      value: (_vm.auditionModal),\n      callback: function($$v) {\n        _vm.auditionModal = $$v\n      },\n      expression: \"auditionModal\"\n    }\n  }, [_c('Form', {\n    attrs: {\n      \"label-position\": \"right\",\n      \"label-width\": 80\n    }\n  }, [_c('Row', {\n    attrs: {\n      \"getter\": \"40\"\n    }\n  }, [(_vm.auditionModal) ? _c('FormItem', {\n    attrs: {\n      \"label\": \"素材大小\"\n    }\n  }, [_c('span', [_vm._v(_vm._s(_vm.historyData[_vm.experiment].fileSize))])]) : _vm._e(), _vm._v(\" \"), (_vm.auditionModal) ? _c('FormItem', {\n    attrs: {\n      \"label\": \"素材时长\"\n    }\n  }, [_c('span', [_vm._v(_vm._s(_vm.historyData[_vm.experiment].fileDuration))])]) : _vm._e(), _vm._v(\" \"), _c('audio', {\n    staticStyle: {\n      \"height\": \"35px\",\n      \"margin-top\": \"20px\"\n    },\n    attrs: {\n      \"id\": \"audios\",\n      \"controls\": \"controls\"\n    }\n  })], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-6408ef61\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/material/modal/audition.vue\n// module id = 256\n// module chunks = 0 1 2 15"],"sourceRoot":""}