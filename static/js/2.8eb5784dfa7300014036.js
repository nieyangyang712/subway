webpackJsonp([2,6,14,15],{232:function(e,t,a){var i=a(0)(a(255),a(256),null,null,null);e.exports=i.exports},233:function(e,t,a){var i=a(0)(a(257),a(260),null,null,null);e.exports=i.exports},234:function(e,t,a){var i=a(0)(a(258),a(259),null,null,null);e.exports=i.exports},249:function(e,t,a){function i(e){a(308)}var o=a(0)(a(280),a(321),i,null,null);e.exports=o.exports},251:function(e,t,a){"use strict";function i(){var e=new Date;return new Date(e).getFullYear()+(new Date(e).getMonth()+1<10?"0"+(new Date(e).getMonth()+1):new Date(e).getMonth()+1)+(new Date(e).getDate()<10?"0"+new Date(e).getDate():new Date(e).getDate())+(new Date(e).getHours()<10?"0"+new Date(e).getHours():new Date(e).getHours())+(new Date(e).getMinutes()<10?"0"+new Date(e).getMinutes():new Date(e).getMinutes())+(new Date(e).getSeconds()<10?"0"+new Date(e).getSeconds():new Date(e).getSeconds())}function o(e){return new Date(e).getFullYear()+"-"+(new Date(e).getMonth()+1<10?"0"+(new Date(e).getMonth()+1):new Date(e).getMonth()+1)+"-"+(new Date(e).getDate()<10?"0"+new Date(e).getDate():new Date(e).getDate())+" "+(new Date(e).getHours()<10?"0"+new Date(e).getHours():new Date(e).getHours())+":"+(new Date(e).getMinutes()<10?"0"+new Date(e).getMinutes():new Date(e).getMinutes())+":"+(new Date(e).getSeconds()<10?"0"+new Date(e).getSeconds():new Date(e).getSeconds())}function r(){return new Date(+new Date((new Date).toJSON())+288e5).toISOString().replace(/T/g," ").replace(/\.[\d]{3}Z/,"")}function l(e){var e=e,t=new Date,a=t.getFullYear(),i=t.getMonth()+1,o=t.getDate(),r=t.getHours(),l=t.getMinutes(),n=t.getSeconds();return o<=e&&(i>1?i-=1:(a-=1,i=12)),t.setDate(t.getDate()-e),a=t.getFullYear(),i=t.getMonth()+1,o=t.getDate(),a+"-"+(i<10?"0"+i:i)+"-"+(o<10?"0"+o:o)+" "+(r<10?"0"+r:r)+":"+(l<10?"0"+l:l)+":"+(n<10?"0"+n:n)}function n(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1;return a>1?a-=1:(t-=1,a=12),t+"-"+(a<10?"0"+a:a)+"-01 00:00:00"}function s(){return"2000-01-01 01:01:01"}t.d=i,t.c=o,t.b=r,t.f=l,t.a=n,t.e=s},252:function(e,t,a){e.exports={default:a(254),__esModule:!0}},254:function(e,t,a){var i=a(3),o=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},255:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){t.default={props:["historyData"],data:function(){return{auditionModal:!1,experiment:0,infoId:0}},methods:{audition:function(t){this.experiment=t,console.log(this.historyData[t]),e("#audios")[0].src="","materialId"in this.historyData[t]?this.infoId=this.historyData[t].materialId:this.infoId=this.historyData[t].infoId,this.accept()},accept:function(){var t=this,a="data:audio/mpeg;base64,";this.$axios({method:"get",url:this.baseURL+"/material/MaterialInfo/getFileByte",params:{infoid:this.infoId}}).then(function(i){console.log(i.data),0==i.data.code?(t.auditionModal=!0,a+=i.data.result,e("#audios")[0].src=a):1==i.data.code&&alert(i.data.msg)}).catch(function(e){console.log(e)})},palyStop:function(){for(var t=e("audio"),a=0;a<t.length;a++)t[a].pause()},ok:function(e){this.$Message.info("OK!"),this.palyStop()},cancel:function(e){this.$Message.info("Clicked cancel"),this.palyStop()}}}}.call(t,a(253))},256:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Modal",{attrs:{title:"试听"},on:{"on-ok":e.ok,"on-cancel":e.cancel},model:{value:e.auditionModal,callback:function(t){e.auditionModal=t},expression:"auditionModal"}},[a("Form",{attrs:{"label-position":"right","label-width":80}},[a("Row",{attrs:{getter:"40"}},[e.auditionModal?a("FormItem",{attrs:{label:"素材大小"}},[a("span",[e._v(e._s(e.historyData[e.experiment].fileSize))])]):e._e(),e._v(" "),e.auditionModal?a("FormItem",{attrs:{label:"素材时长"}},[a("span",[e._v(e._s(e.historyData[e.experiment].fileDuration))])]):e._e(),e._v(" "),a("audio",{staticStyle:{height:"35px","margin-top":"20px"},attrs:{id:"audios",controls:"controls"}})],1)],1)],1)],1)},staticRenderFns:[]}},257:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var i=a(251);t.default={name:"",props:{},data:function(){var e=this.$store.state.parameter.deserve;return{commitStatus:"",typeNo:e.M005,groupNo:e.M006,languageKbn:e.M007,fileFormat:e.M018,ttsLibrary:e.M013,ttsStyle:e.M015,ttsSpeed:e.M016,fbGroundType:e.M401,frequency:"",modal1:!1,accordion_value:"1",formValidate:{infoId:"",createUserName:"",commitStatus:"",fbGroundType:e.M401[0].itemValue,compileNodeId:"",compileNodeName:"",createUserId:"",fileDuration:"",fileFormat:e.M018[0].itemValue,fileSize:"",fileUrl:"",groupNo:e.M006[0].itemValue,infoComment:"",infoName:"",issueDate:"",issueNodelist:"",issueUserId:"",languageKbn:"",reviewDate:"",reviewInfo:"",reviewUserId:"",reviewUserName:"",ttsLibrary:e.M013[0].itemValue,ttsSpeed:e.M016[0].itemValue,ttsStyle:e.M015[0].itemValue,ttsText:"",typeNo:e.M005[0].itemValue},ruleValidate:{infoName:[{required:!0,message:"The name cannot be empty",trigger:"blur"}],infoComment:[{required:!0,message:"The name cannot be empty",trigger:"blur"}]}}},methods:{handleUploadFile:function(t){this.uploadFiles="",this.uploadFiles=t,console.log(this.uploadFiles),this.fileSize=t.size/1024,this.fileSize<1024?this.fileSize=Math.floor(this.fileSize):alert("文件过大"),this.formValidate.fileSize=this.fileSize;var a=e("#musicPlayPanel");a.attr("src",URL.createObjectURL(this.uploadFiles)),a.get("0").load();var i=a;if(null!=i){i[0].load(),i[0].oncanplay=function(){e("#duration").html(Math.floor(i[0].duration))}}return!1},enhance:function(){this.formValidate.fileDuration=e("#duration").html(),this.formValidate.infoId="06ZZZZ01"+a.i(i.d)(),this.formValidate.createUserId="06ZZZZ01"+this.$store.state.user.uid,this.formValidate.createUserName=this.$store.state.user.name,this.formValidate.createTime=a.i(i.c)(new Date);var t=new FormData;for(var o in this.formValidate)t.append(o,this.formValidate[o]);t.append("materialfile",this.uploadFiles),this.$axios({method:"post",data:t,url:this.baseURL+"/material/MaterialInfo/add_Material",headers:{"Content-Type":"multipart/form-data"}}).then(function(e){console.log(e),"200"==e.status&&alert("Success!")}).catch(function(e){})},handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?(t.formValidate.reviewDate=a.i(i.c)(new Date),t.formValidate.commitStatus=2,t.enhance()):t.$Message.error("Fail!")})},preserveSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?(t.formValidate.reviewDate=a.i(i.e)(),t.formValidate.commitStatus=1,t.enhance()):t.$Message.error("Fail!")})},time_to_sec:function(e){var t=e.split(":")[0],a=e.split(":")[1];return Number(60*t)+Number(a)},select_record:function(e){console.log(e),this.formValidate.fileSize=Math.ceil(e.blob.size/1024),this.formValidate.fileDuration=this.time_to_sec(e.duration),this.uploadFiles=new File([e.blob],{type:"audio/mp3"})},mic_failed:function(){alert("您的麦克风不起作用")},handleReset:function(e){this.$refs[e].resetFields()},ok:function(e){this.$Message.info("OK!")},cancel:function(e){this.$Message.info("Clicked cancel")}},created:function(){}}}.call(t,a(253))},258:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var i=a(252),o=a.n(i);t.default={props:["historyData"],data:function(){var e=this.$store.state.parameter.deserve;return{commitStatus:e.M003,typeNo:e.M005,fileFormat:e.M018,ttsLibrary:e.M013,ttsStyle:e.M015,ttsSpeed:e.M016,fbGroundType:e.M401,detailed:!1,compile:0,frequency:"",cacheData:{}}},methods:{details:function(t){var a=this;this.detailed=!0,this.compile=t,this.cacheData=JSON.parse(o()(this.historyData[t])),this.historyData[t].commitStatus=this.$store.state.parameter.deserve.M003[this.historyData[t].commitStatus-1].itemValue,this.historyData[t].typeNo=this.$store.state.parameter.deserve.M005[this.historyData[t].typeNo-1].itemValue,this.historyData[t].fileFormat=this.$store.state.parameter.deserve.M018[this.historyData[t].fileFormat-1].itemValue,this.historyData[t].createTime=new Date(+new Date(new Date(this.historyData[t].createTime).toJSON())+288e5).toISOString().replace(/T/g," ").replace(/\.[\d]{3}Z/,""),this.historyData[t].ttsLibrary=this.$store.state.parameter.deserve.M013[this.historyData[t].ttsLibrary-1].itemValue,this.historyData[t].ttsSpeed=this.$store.state.parameter.deserve.M016[this.historyData[t].ttsSpeed-1].itemValue,this.historyData[t].ttsStyle=this.$store.state.parameter.deserve.M015[this.historyData[t].ttsStyle-1].itemValue,this.historyData[t].fbGroundType=this.$store.state.parameter.deserve.M401[this.historyData[t].fbGroundType-1].itemValue;var i="data:audio/mpeg;base64,";this.frequency="",this.$axios({method:"get",url:this.baseURL+"/material/MaterialInfo/getFileByte",params:{infoid:this.historyData[t].infoId}}).then(function(t){console.log(t.data),0==t.data.code?(i+=t.data.result,a.frequency=i,e("#frequency")[0].src=i):1==t.data.code&&console.log(t.data.msg)}).catch(function(e){})},palyStop:function(){for(var t=e("audio"),a=0;a<t.length;a++)t[a].pause()},ok:function(e){this.$Message.info("OK!"),this.palyStop()},cancel:function(e){this.$Message.info("Clicked cancel"),this.palyStop()}}}}.call(t,a(253))},259:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Modal",{attrs:{title:"详情",width:"1000"},on:{"on-ok":e.ok,"on-cancel":e.cancel},model:{value:e.detailed,callback:function(t){e.detailed=t},expression:"detailed"}},[e.detailed?a("Form",{attrs:{"label-position":"right","label-width":120}},[a("Row",[a("Col",{attrs:{span:"11"}},[a("FormItem",{attrs:{label:"素材名称"}},[a("Input",{attrs:{disabled:""},model:{value:e.historyData[e.compile].infoName,callback:function(t){e.historyData[e.compile].infoName=t},expression:"historyData[compile].infoName"}})],1),e._v(" "),a("FormItem",{attrs:{label:"素材状态"}},[a("Select",{attrs:{clearable:"",disabled:""},model:{value:e.historyData[e.compile].commitStatus,callback:function(t){e.historyData[e.compile].commitStatus=t},expression:"historyData[compile].commitStatus"}},e._l(e.commitStatus,function(t){return a("Option",{key:t.itemValue,attrs:{value:t.itemValue}},[e._v(e._s(t.itemName))])}))],1),e._v(" "),a("FormItem",{attrs:{label:"素材类型"}},[a("Select",{attrs:{clearable:"",disabled:""},model:{value:e.historyData[e.compile].typeNo,callback:function(t){e.historyData[e.compile].typeNo=t},expression:"historyData[compile].typeNo"}},e._l(e.typeNo,function(t){return a("Option",{key:t.itemValue,attrs:{value:t.itemValue}},[e._v(e._s(t.itemName))])}))],1),e._v(" "),a("FormItem",{attrs:{label:"音库",prop:"ttsLibrary"}},[a("Select",{attrs:{clearable:"",disabled:""},model:{value:e.historyData[e.compile].ttsLibrary,callback:function(t){e.historyData[e.compile].ttsLibrary=t},expression:"historyData[compile].ttsLibrary"}},e._l(e.ttsLibrary,function(t){return a("Option",{key:t.itemValue,attrs:{value:t.itemValue}},[e._v(e._s(t.itemName))])}))],1),e._v(" "),a("FormItem",{attrs:{label:"语速",prop:"ttsSpeed"}},[a("Select",{attrs:{clearable:"",disabled:""},model:{value:e.historyData[e.compile].ttsSpeed,callback:function(t){e.historyData[e.compile].ttsSpeed=t},expression:"historyData[compile].ttsSpeed"}},e._l(e.ttsSpeed,function(t){return a("Option",{key:t.itemValue,attrs:{value:t.itemValue}},[e._v(e._s(t.itemName))])}))],1),e._v(" "),a("FormItem",{attrs:{label:"试听"}},[a("audio",{staticClass:"musicPlayPanel",staticStyle:{height:"30px",width:"320px"},attrs:{src:e.frequency,controls:"controls"}})])],1),e._v(" "),a("Col",{attrs:{span:"11"}},[a("FormItem",{attrs:{label:"素材编制人"}},[a("Input",{attrs:{value:e.historyData[e.compile].createUserName,disabled:""}})],1),e._v(" "),a("FormItem",{attrs:{label:"素材编制日期"}},[a("Input",{attrs:{value:e.historyData[e.compile].createTime,disabled:""}})],1),e._v(" "),a("FormItem",{attrs:{label:"素材语音格式"}},[a("Select",{attrs:{clearable:"",disabled:""},model:{value:e.historyData[e.compile].fileFormat,callback:function(t){e.historyData[e.compile].fileFormat=t},expression:"historyData[compile].fileFormat"}},e._l(e.fileFormat,function(t){return a("Option",{key:t.itemValue,attrs:{value:t.itemValue}},[e._v(e._s(t.itemName))])}))],1),e._v(" "),a("FormItem",{attrs:{label:"风格",prop:"ttsStyle"}},[a("Select",{attrs:{clearable:"",disabled:""},model:{value:e.historyData[e.compile].ttsStyle,callback:function(t){e.historyData[e.compile].ttsStyle=t},expression:"historyData[compile].ttsStyle"}},e._l(e.ttsStyle,function(t){return a("Option",{key:t.itemValue,attrs:{value:t.itemValue}},[e._v(e._s(t.itemName))])}))],1),e._v(" "),a("FormItem",{attrs:{label:"前背景类型",prop:"fbGroundType"}},[a("Select",{attrs:{clearable:"",disabled:""},model:{value:e.historyData[e.compile].fbGroundType,callback:function(t){e.historyData[e.compile].fbGroundType=t},expression:"historyData[compile].fbGroundType"}},e._l(e.fbGroundType,function(t){return a("Option",{key:t.itemValue,attrs:{value:t.itemValue}},[e._v(e._s(t.itemName))])}))],1),e._v(" "),a("FormItem",{attrs:{label:"素材大小"}},[a("Input",{attrs:{disabled:""},model:{value:e.historyData[e.compile].fileSize,callback:function(t){e.historyData[e.compile].fileSize=t},expression:"historyData[compile].fileSize"}})],1),e._v(" "),a("FormItem",{attrs:{label:"素材时长"}},[a("Span",{staticClass:"duration"},[e._v(e._s(e.historyData[e.compile].fileDuration))])],1)],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"22"}},[a("FormItem",{attrs:{label:"素材文本信息"}},[a("Input",{attrs:{type:"textarea",disabled:""},model:{value:e.historyData[e.compile].infoComment,callback:function(t){e.historyData[e.compile].infoComment=t},expression:"historyData[compile].infoComment"}})],1)],1)],1)],1):e._e()],1)],1)},staticRenderFns:[]}},260:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Modal",{staticStyle:{"z-index":"1021"},attrs:{title:"信息录入",styles:{top:"20px"},width:"1000"},on:{"on-ok":function(t){e.ok("formValidate")},"on-cancel":function(t){e.cancel("formValidate")}},model:{value:e.modal1,callback:function(t){e.modal1=t},expression:"modal1"}},[a("Collapse",{attrs:{accordion:""},on:{"on-change":function(t){e.handleReset("formValidate")}},model:{value:e.accordion_value,callback:function(t){e.accordion_value=t},expression:"accordion_value"}},[a("Panel",{attrs:{name:"1"}},[e._v("\n         预录素材\n         "),a("div",{slot:"content"},[a("Form",{ref:"formValidate",attrs:{model:e.formValidate,"label-position":"right",rules:e.ruleValidate,"label-width":110}},[a("Row",{attrs:{getter:"40"}},[a("Col",{attrs:{span:"11"}},[a("FormItem",{attrs:{label:"上传素材"}},[a("Upload",{attrs:{format:["mp3"],"before-upload":e.handleUploadFile,action:""}},[a("Button",{attrs:{type:"ghost",icon:"ios-cloud-upload-outline",accept:"audio/mp3"}},[e._v("选择文件")])],1)],1),e._v(" "),a("FormItem",{attrs:{label:"素材名称",prop:"infoName"}},[a("Input",{model:{value:e.formValidate.infoName,callback:function(t){e.formValidate.infoName=t},expression:"formValidate.infoName"}})],1),e._v(" "),a("FormItem",{attrs:{label:"素材分类",prop:"typeNo"}},[a("Select",{attrs:{clearable:"",placeholder:"素材分类"},model:{value:e.formValidate.typeNo,callback:function(t){e.formValidate.typeNo=t},expression:"formValidate.typeNo"}},e._l(e.typeNo,function(t){return a("Option",{key:t.itemValue,attrs:{value:t.itemValue}},[e._v(e._s(t.itemName))])}))],1),e._v(" "),a("FormItem",{attrs:{label:"素材分组",prop:"groupNo"}},[a("Select",{attrs:{clearable:"",placeholder:"素材分组"},model:{value:e.formValidate.groupNo,callback:function(t){e.formValidate.groupNo=t},expression:"formValidate.groupNo"}},e._l(e.groupNo,function(t){return a("Option",{key:t.itemValue,attrs:{value:t.itemValue}},[e._v(e._s(t.itemName))])}))],1),e._v(" "),a("FormItem",{attrs:{label:"音库",prop:"ttsLibrary"}},[a("Select",{attrs:{clearable:"",placeholder:"音库"},model:{value:e.formValidate.ttsLibrary,callback:function(t){e.formValidate.ttsLibrary=t},expression:"formValidate.ttsLibrary"}},e._l(e.ttsLibrary,function(t){return a("Option",{key:t.itemValue,attrs:{value:t.itemValue}},[e._v(e._s(t.itemName))])}))],1),e._v(" "),a("FormItem",{attrs:{label:"语速",prop:"ttsSpeed"}},[a("Select",{attrs:{clearable:"",placeholder:"语速"},model:{value:e.formValidate.ttsSpeed,callback:function(t){e.formValidate.ttsSpeed=t},expression:"formValidate.ttsSpeed"}},e._l(e.ttsSpeed,function(t){return a("Option",{key:t.itemValue,attrs:{value:t.itemValue}},[e._v(e._s(t.itemName))])}))],1)],1),e._v(" "),a("Col",{attrs:{span:"11"}},[a("FormItem",{attrs:{label:"素材大小",prop:"fileSize"}},[a("Input",{attrs:{disabled:""},model:{value:e.formValidate.fileSize,callback:function(t){e.formValidate.fileSize=t},expression:"formValidate.fileSize"}})],1),e._v(" "),a("FormItem",{attrs:{label:"试听"}},[a("audio",{staticStyle:{height:"30px"},attrs:{controls:"",id:"musicPlayPanel"}},[a("source",{attrs:{type:"audio/mpeg"}})])]),e._v(" "),a("FormItem",{attrs:{label:"风格",prop:"ttsStyle"}},[a("Select",{attrs:{clearable:"",placeholder:"风格"},model:{value:e.formValidate.ttsStyle,callback:function(t){e.formValidate.ttsStyle=t},expression:"formValidate.ttsStyle"}},e._l(e.ttsStyle,function(t){return a("Option",{key:t.itemValue,attrs:{value:t.itemValue}},[e._v(e._s(t.itemName))])}))],1),e._v(" "),a("FormItem",{attrs:{label:"前背景类型",prop:"fbGroundType"}},[a("Select",{attrs:{clearable:"",placeholder:"前背景类型"},model:{value:e.formValidate.fbGroundType,callback:function(t){e.formValidate.fbGroundType=t},expression:"formValidate.fbGroundType"}},e._l(e.fbGroundType,function(t){return a("Option",{key:t.itemValue,attrs:{value:t.itemValue}},[e._v(e._s(t.itemName))])}))],1),e._v(" "),a("FormItem",{attrs:{label:"素材语音格式",prop:"fileFormat"}},[a("Select",{attrs:{clearable:"",placeholder:"素材语音格式"},model:{value:e.formValidate.fileFormat,callback:function(t){e.formValidate.fileFormat=t},expression:"formValidate.fileFormat"}},e._l(e.fileFormat,function(t){return a("Option",{key:t.itemValue,attrs:{value:t.itemValue}},[e._v(e._s(t.itemName))])}))],1),e._v(" "),a("FormItem",{staticStyle:{display:"block"},attrs:{label:"素材时长"}},[a("span",{attrs:{id:"duration"}},[e._v(e._s(e.formValidate.fileDuration))])])],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"22"}},[a("FormItem",{attrs:{label:"素材文本信息",prop:"infoComment"}},[a("Input",{attrs:{type:"textarea"},model:{value:e.formValidate.infoComment,callback:function(t){e.formValidate.infoComment=t},expression:"formValidate.infoComment"}})],1)],1)],1),e._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.preserveSubmit("formValidate")}}},[e._v("保存")]),e._v(" "),a("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formValidate")}}},[e._v("提交审核")]),e._v(" "),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){e.handleReset("formValidate")}}},[e._v("取消")])],1)],1)],1)]),e._v(" "),a("Panel",{attrs:{name:"2"}},[e._v("\n          实录素材\n         "),a("div",{slot:"content"},[a("Form",{ref:"formValidate",attrs:{model:e.formValidate,"label-position":"right",rules:e.ruleValidate,"label-width":110}},[a("Row",{attrs:{getter:"40"}},[a("Col",{attrs:{span:"11"}},[a("FormItem",{attrs:{label:"素材名称",prop:"infoName"}},[a("Input",{model:{value:e.formValidate.infoName,callback:function(t){e.formValidate.infoName=t},expression:"formValidate.infoName"}})],1),e._v(" "),a("FormItem",{attrs:{label:"素材分类",prop:"typeNo"}},[a("Select",{attrs:{clearable:"",placeholder:"素材分类"},model:{value:e.formValidate.typeNo,callback:function(t){e.formValidate.typeNo=t},expression:"formValidate.typeNo"}},e._l(e.typeNo,function(t){return a("Option",{key:t.itemValue,attrs:{value:t.itemValue}},[e._v(e._s(t.itemName))])}))],1),e._v(" "),a("FormItem",{attrs:{label:"素材分组",prop:"groupNo"}},[a("Select",{attrs:{clearable:"",placeholder:"素材分组"},model:{value:e.formValidate.groupNo,callback:function(t){e.formValidate.groupNo=t},expression:"formValidate.groupNo"}},e._l(e.groupNo,function(t){return a("Option",{key:t.itemValue,attrs:{value:t.itemValue}},[e._v(e._s(t.itemName))])}))],1),e._v(" "),a("FormItem",{attrs:{label:"音库",prop:"ttsLibrary"}},[a("Select",{attrs:{clearable:"",placeholder:"音库"},model:{value:e.formValidate.ttsLibrary,callback:function(t){e.formValidate.ttsLibrary=t},expression:"formValidate.ttsLibrary"}},e._l(e.ttsLibrary,function(t){return a("Option",{key:t.itemValue,attrs:{value:t.itemValue}},[e._v(e._s(t.itemName))])}))],1),e._v(" "),a("FormItem",{attrs:{label:"语速",prop:"ttsSpeed"}},[a("Select",{attrs:{clearable:"",placeholder:"语速"},model:{value:e.formValidate.ttsSpeed,callback:function(t){e.formValidate.ttsSpeed=t},expression:"formValidate.ttsSpeed"}},e._l(e.ttsSpeed,function(t){return a("Option",{key:t.itemValue,attrs:{value:t.itemValue}},[e._v(e._s(t.itemName))])}))],1)],1),e._v(" "),a("Col",{attrs:{span:"11"}},[a("FormItem",{attrs:{label:"素材大小",prop:"fileSize"}},[a("Input",{attrs:{disabled:""},model:{value:e.formValidate.fileSize,callback:function(t){e.formValidate.fileSize=t},expression:"formValidate.fileSize"}})],1),e._v(" "),a("FormItem",{attrs:{label:"风格",prop:"ttsStyle"}},[a("Select",{attrs:{clearable:"",placeholder:"风格"},model:{value:e.formValidate.ttsStyle,callback:function(t){e.formValidate.ttsStyle=t},expression:"formValidate.ttsStyle"}},e._l(e.ttsStyle,function(t){return a("Option",{key:t.itemValue,attrs:{value:t.itemValue}},[e._v(e._s(t.itemName))])}))],1),e._v(" "),a("FormItem",{attrs:{label:"前背景类型",prop:"fbGroundType"}},[a("Select",{attrs:{clearable:"",placeholder:"前背景类型"},model:{value:e.formValidate.fbGroundType,callback:function(t){e.formValidate.fbGroundType=t},expression:"formValidate.fbGroundType"}},e._l(e.fbGroundType,function(t){return a("Option",{key:t.itemValue,attrs:{value:t.itemValue}},[e._v(e._s(t.itemName))])}))],1),e._v(" "),a("FormItem",{attrs:{label:"素材语音格式",prop:"fileFormat"}},[a("Select",{attrs:{clearable:"",placeholder:"素材语音格式"},model:{value:e.formValidate.fileFormat,callback:function(t){e.formValidate.fileFormat=t},expression:"formValidate.fileFormat"}},e._l(e.fileFormat,function(t){return a("Option",{key:t.itemValue,attrs:{value:t.itemValue}},[e._v(e._s(t.itemName))])}))],1),e._v(" "),a("FormItem",{attrs:{label:"素材时长"}},[a("span",[e._v(e._s(e.formValidate.fileDuration))])])],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"21"}},[a("audio-recorder",{attrs:{"upload-url":"some url",attempts:2,time:2,"show-upload-button":!1,"select-record":e.select_record,"mic-failed":e.mic_failed}})],1)],1),e._v(" "),a("Row",[a("Col",{attrs:{span:"22"}},[a("FormItem",{attrs:{label:"素材文本信息",prop:"infoComment"}},[a("Input",{attrs:{type:"textarea"},model:{value:e.formValidate.infoComment,callback:function(t){e.formValidate.infoComment=t},expression:"formValidate.infoComment"}})],1)],1)],1),e._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.preserveSubmit("formValidate")}}},[e._v("保存")]),e._v(" "),a("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formValidate")}}},[e._v("提交审核")]),e._v(" "),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){e.handleReset("formValidate")}}},[e._v("重置")])],1)],1)],1)])],1)],1)},staticRenderFns:[]}},280:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(233),o=a.n(i),r=a(234),l=a.n(r),n=a(232),s=a.n(n),m=a(45),c=a.n(m),u=a(251);t.default={components:{addMaterial:o.a,audition:s.a,detail:l.a},data:function(){var e=this,t=this.$store.state.parameter.deserve;return{fileSize:null,selectData:"",ajaxHistoryData:[],dataCount:1,pageSize:10,below:0,materialDemand:{infoName:"",createUserName:"",commitStatus:t.M003[2].itemValue,typeNo:"",reviewStartTime:a.i(u.a)(),reviewendTime:a.i(u.b)()},accordion_value:"1",commitStatus:t.M003,historyColumns:[{type:"selection",width:60,align:"center"},{title:"素材编号",key:"infoId",width:130},{title:"素材名称",key:"infoName",width:100},{title:"素材状态",key:"commitStatus",width:110,render:function(e,a){for(var i="",o=0;o<t.M003.length;o++)a.row.commitStatus==o+1&&(i=t.M003[o].itemName);return e("div",{props:{}},i)}},{title:"素材类型",key:"typeNo",width:100,render:function(e,a){for(var i="",o=0;o<t.M005.length;o++)a.row.typeNo==o+1&&(i=t.M005[o].itemName);return e("div",{props:{}},i)}},{title:"编制节点编号",key:"compileNodeId",width:130},{title:"编制节点名称",key:"compileNodeName",width:130},{title:"编制人",key:"createUserName",width:100},{title:"编制日期",key:"createTime",sortable:!0,width:150,render:function(e,t){return e("div",a.i(u.c)(t.row.createTime))}},{title:"语音格式",key:"fileFormat",width:100,render:function(e,a){for(var i="",o=0;o<t.M018.length;o++)a.row.fileFormat==o+1&&(i=t.M018[o].itemName);return e("div",{props:{}},i)}},{title:"文本信息",key:"infoComment",width:150},{title:"素材大小",key:"fileSize",width:100},{title:"素材时长",key:"fileDuration",width:100},{title:"操做",key:"action",width:150,align:"right",fixed:"right",render:function(t,a){return t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.detailedMaterial(a.index)}}},"详情"),t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.audition(a.index)}}},"试听"),t("Button",{props:{type:"error",size:"small"},on:{click:function(){e.oneDelete(a.index)}}},"删除")])}}],historyData:[],cacheData:{}}},methods:{detailedMaterial:function(e){var t=this;this.$nextTick(function(){t.$refs.detail.details(e)})},oneDelete:function(e){var t=this;if(console.log(this.historyData[e].infoId),"0"!=confirm("您确认删除？")){var a={infoId:this.historyData[e].infoId};this.$axios({method:"post",url:this.baseURL+"/material/MaterialInfo/delete_Material",params:a}).then(function(a){console.log(a),"200"==a.status&&(t.historyData.splice(e,1),alert("删除成功"))}).catch(function(e){})}},batchDelete:function(e){var t=this,a=[];for(var i in this.selectData)console.log(this.selectData[i].infoId),a.push(this.selectData[i].infoId);console.log(a);for(var o=new FormData,r=0;r<a.length;r++)o.append("infoIds[]",a[r]);if(a.length>0){"0"!=confirm("您确认删除？")&&this.$axios({method:"post",data:o,url:this.baseURL+"/material/MaterialInfo/delete_Material_List",headers:{"Content-Type":"multipart/form-data"}}).then(function(e){console.log(e),"200"==e.status&&(t.handleListApproveHistory(),alert("删除成功"))}).catch(function(e){})}},selectTable:function(e){this.selectData=e,console.log(e)},audition:function(e){var t=this;this.$nextTick(function(){t.$refs.audition.audition(e)})},handleListApproveHistory:function(){this.dataCount=1,""!=this.materialDemand.reviewStartTime&&(this.materialDemand.reviewStartTime=a.i(u.c)(this.materialDemand.reviewStartTime)),""!=this.materialDemand.reviewendTime&&(this.materialDemand.reviewendTime=a.i(u.c)(this.materialDemand.reviewendTime));var e=new FormData;for(var t in this.materialDemand)e.append(t,this.materialDemand[t]);var i=c.a.get("status"),o=this;this.$axios({headers:{Authorization:i},method:"post",url:this.baseURL+"/material/MaterialInfo/getList?currentPage="+this.dataCount+"&pageSize="+o.pageSize+"&offset=0",params:this.materialDemand}).then(function(e){console.log(e.data),o.ajaxHistoryData=e.data.list,o.dataCount=e.data.total,o.historyData=o.ajaxHistoryData}).catch(function(e){})},pages:function(e){this.pageSize=e,this.changepage(1)},changepage:function(e){console.log(e),this.below=e;var t=c.a.get("status"),a=this;this.$axios({headers:{Authorization:t},method:"post",url:this.baseURL+"/material/MaterialInfo/getList?currentPage="+a.below+"&pageSize="+a.pageSize+"&nextPage="+a.below,params:this.materialDemand}).then(function(e){a.historyData=e.data.list}).catch(function(e){})},getChild:function(){this.$refs.addMaterial.modal1=!0}},created:function(){this.handleListApproveHistory()}}},295:function(e,t,a){t=e.exports=a(230)(!0),t.push([e.i,"\n.ar{width:100% !important;box-shadow:none !important;margin-left: 40px;\n}\n.ar-recorder__time-limit{display:none\n}\n.ar-recorder__records-limit{top:65px !important;\n}\n.ar-records{height:60px !important\n}\n.listfile{padding:15px 0 15px 0;\n}\n/* .ivu-checkbox-wrapper{display: none} */\n.vue-treeselect__control{height:33px !important\n}\n","",{version:3,sources:["D:/2020/BJSubway/src/views/material/recordMaterial.vue"],names:[],mappings:";AACA,IAAI,sBAAsB,2BAA2B,kBAAkB;CACtE;AACD,yBAAyB,YAAY;CACpC;AACD,4BAA4B,oBAAoB;CAC/C;AACD,YAAY,sBAAsB;CACjC;AACD,UAAU,sBAAsB;CAC/B;AACD,0CAA0C;AAC1C,yBAAyB,sBAAsB;CAC9C",file:"recordMaterial.vue",sourcesContent:["\n.ar{width:100% !important;box-shadow:none !important;margin-left: 40px;\n}\n.ar-recorder__time-limit{display:none\n}\n.ar-recorder__records-limit{top:65px !important;\n}\n.ar-records{height:60px !important\n}\n.listfile{padding:15px 0 15px 0;\n}\n/* .ivu-checkbox-wrapper{display: none} */\n.vue-treeselect__control{height:33px !important\n}\n"],sourceRoot:""}])},308:function(e,t,a){var i=a(295);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(231)("075ecbda",i,!0)},321:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"staple"},[a("Row",{attrs:{gutter:12}},[a("Col",{attrs:{span:"3"}},[a("Input",{attrs:{clearable:"",placeholder:"素材名称"},model:{value:e.materialDemand.infoName,callback:function(t){e.materialDemand.infoName=t},expression:"materialDemand.infoName"}})],1),e._v(" "),a("Col",{attrs:{span:"3"}},[a("Input",{attrs:{clearable:"",placeholder:"编制人名称"},model:{value:e.materialDemand.createUserName,callback:function(t){e.materialDemand.createUserName=t},expression:"materialDemand.createUserName"}})],1),e._v(" "),a("Col",{attrs:{span:"3"}},[a("Input",{attrs:{clearable:"",placeholder:"审核人名称"},model:{value:e.materialDemand.reviewUserName,callback:function(t){e.materialDemand.reviewUserName=t},expression:"materialDemand.reviewUserName"}})],1),e._v(" "),a("Col",{attrs:{span:"3"}},[a("Select",{attrs:{placeholder:"审核状态"},model:{value:e.materialDemand.commitStatus,callback:function(t){e.materialDemand.commitStatus=t},expression:"materialDemand.commitStatus"}},[e._l(e.commitStatus,function(t){return[1!=t.itemValue&&5!=t.itemValue?a("Option",{key:t.itemValue,attrs:{value:t.itemValue}},[e._v(e._s(t.itemName))]):t.itemValue?a("Option",{key:t.itemValue,staticStyle:{display:"none"},attrs:{value:t.itemValue}},[e._v(e._s(t.itemName))]):e._e()]})],2)],1),e._v(" "),a("Col",{attrs:{span:"3"}},[a("DatePicker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm",placeholder:"开始时间"},model:{value:e.materialDemand.reviewStartTime,callback:function(t){e.materialDemand.reviewStartTime=t},expression:"materialDemand.reviewStartTime"}})],1),e._v(" "),a("Col",{attrs:{span:"3"}},[a("DatePicker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm",placeholder:"结束时间"},model:{value:e.materialDemand.reviewendTime,callback:function(t){e.materialDemand.reviewendTime=t},expression:"materialDemand.reviewendTime"}})],1),e._v(" "),a("Col",{attrs:{span:"2"}},[a("Button",{attrs:{type:"primary",icon:"md-search"},on:{click:function(t){e.handleListApproveHistory()}}},[e._v("查询")])],1),e._v(" "),a("Col",{attrs:{span:"2",push:"1"}},[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.getChild()}}},[e._v("信息录入")])],1),e._v(" "),a("Col",{attrs:{span:"1",push:"1"}},[a("Button",{attrs:{type:"error"},on:{click:e.batchDelete}},[e._v("删除")])],1)],1),e._v(" "),a("div",{staticClass:"listfile"},[a("Table",{ref:"selection",attrs:{border:"",columns:e.historyColumns,data:e.historyData},on:{"on-select-all":e.selectTable,"on-select":e.selectTable,"on-select-cancel":e.selectTable}}),e._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:e.dataCount,"page-size":e.pageSize,"show-total":""},on:{"on-change":e.changepage}})],1)])],1),e._v(" "),a("addMaterial",{ref:"addMaterial"}),e._v(" "),a("detail",{ref:"detail",attrs:{historyData:e.historyData}}),e._v(" "),a("audition",{ref:"audition",attrs:{historyData:e.historyData}})],1)},staticRenderFns:[]}}});
//# sourceMappingURL=2.8eb5784dfa7300014036.js.map