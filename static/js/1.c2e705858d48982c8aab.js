webpackJsonp([1,6,15],{232:function(t,e,a){var i=a(0)(a(255),a(256),null,null,null);t.exports=i.exports},234:function(t,e,a){var i=a(0)(a(258),a(259),null,null,null);t.exports=i.exports},246:function(t,e,a){function i(t){a(307)}var o=a(0)(a(277),a(319),i,null,null);t.exports=o.exports},251:function(t,e,a){"use strict";function i(){var t=new Date;return new Date(t).getFullYear()+(new Date(t).getMonth()+1<10?"0"+(new Date(t).getMonth()+1):new Date(t).getMonth()+1)+(new Date(t).getDate()<10?"0"+new Date(t).getDate():new Date(t).getDate())+(new Date(t).getHours()<10?"0"+new Date(t).getHours():new Date(t).getHours())+(new Date(t).getMinutes()<10?"0"+new Date(t).getMinutes():new Date(t).getMinutes())+(new Date(t).getSeconds()<10?"0"+new Date(t).getSeconds():new Date(t).getSeconds())}function o(t){return new Date(t).getFullYear()+"-"+(new Date(t).getMonth()+1<10?"0"+(new Date(t).getMonth()+1):new Date(t).getMonth()+1)+"-"+(new Date(t).getDate()<10?"0"+new Date(t).getDate():new Date(t).getDate())+" "+(new Date(t).getHours()<10?"0"+new Date(t).getHours():new Date(t).getHours())+":"+(new Date(t).getMinutes()<10?"0"+new Date(t).getMinutes():new Date(t).getMinutes())+":"+(new Date(t).getSeconds()<10?"0"+new Date(t).getSeconds():new Date(t).getSeconds())}function r(){return new Date(+new Date((new Date).toJSON())+288e5).toISOString().replace(/T/g," ").replace(/\.[\d]{3}Z/,"")}function s(t){var t=t,e=new Date,a=e.getFullYear(),i=e.getMonth()+1,o=e.getDate(),r=e.getHours(),s=e.getMinutes(),n=e.getSeconds();return o<=t&&(i>1?i-=1:(a-=1,i=12)),e.setDate(e.getDate()-t),a=e.getFullYear(),i=e.getMonth()+1,o=e.getDate(),a+"-"+(i<10?"0"+i:i)+"-"+(o<10?"0"+o:o)+" "+(r<10?"0"+r:r)+":"+(s<10?"0"+s:s)+":"+(n<10?"0"+n:n)}function n(){var t=new Date,e=t.getFullYear(),a=t.getMonth()+1;return a>1?a-=1:(e-=1,a=12),e+"-"+(a<10?"0"+a:a)+"-01 00:00:00"}function l(){return"2000-01-01 01:01:01"}e.d=i,e.c=o,e.b=r,e.f=s,e.a=n,e.e=l},252:function(t,e,a){t.exports={default:a(254),__esModule:!0}},254:function(t,e,a){var i=a(3),o=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},255:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){e.default={props:["historyData"],data:function(){return{auditionModal:!1,experiment:0,infoId:0}},methods:{audition:function(e){this.experiment=e,console.log(this.historyData[e]),t("#audios")[0].src="","materialId"in this.historyData[e]?this.infoId=this.historyData[e].materialId:this.infoId=this.historyData[e].infoId,this.accept()},accept:function(){var e=this,a="data:audio/mpeg;base64,";this.$axios({method:"get",url:this.baseURL+"/material/MaterialInfo/getFileByte",params:{infoid:this.infoId}}).then(function(i){console.log(i.data),0==i.data.code?(e.auditionModal=!0,a+=i.data.result,t("#audios")[0].src=a):1==i.data.code&&alert(i.data.msg)}).catch(function(t){console.log(t)})},palyStop:function(){for(var e=t("audio"),a=0;a<e.length;a++)e[a].pause()},ok:function(t){this.$Message.info("OK!"),this.palyStop()},cancel:function(t){this.$Message.info("Clicked cancel"),this.palyStop()}}}}.call(e,a(253))},256:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Modal",{attrs:{title:"试听"},on:{"on-ok":t.ok,"on-cancel":t.cancel},model:{value:t.auditionModal,callback:function(e){t.auditionModal=e},expression:"auditionModal"}},[a("Form",{attrs:{"label-position":"right","label-width":80}},[a("Row",{attrs:{getter:"40"}},[t.auditionModal?a("FormItem",{attrs:{label:"素材大小"}},[a("span",[t._v(t._s(t.historyData[t.experiment].fileSize))])]):t._e(),t._v(" "),t.auditionModal?a("FormItem",{attrs:{label:"素材时长"}},[a("span",[t._v(t._s(t.historyData[t.experiment].fileDuration))])]):t._e(),t._v(" "),a("audio",{staticStyle:{height:"35px","margin-top":"20px"},attrs:{id:"audios",controls:"controls"}})],1)],1)],1)],1)},staticRenderFns:[]}},258:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=a(252),o=a.n(i);e.default={props:["historyData"],data:function(){var t=this.$store.state.parameter.deserve;return{commitStatus:t.M003,typeNo:t.M005,fileFormat:t.M018,ttsLibrary:t.M013,ttsStyle:t.M015,ttsSpeed:t.M016,fbGroundType:t.M401,detailed:!1,compile:0,frequency:"",cacheData:{}}},methods:{details:function(e){var a=this;this.detailed=!0,this.compile=e,this.cacheData=JSON.parse(o()(this.historyData[e])),this.historyData[e].commitStatus=this.$store.state.parameter.deserve.M003[this.historyData[e].commitStatus-1].itemValue,this.historyData[e].typeNo=this.$store.state.parameter.deserve.M005[this.historyData[e].typeNo-1].itemValue,this.historyData[e].fileFormat=this.$store.state.parameter.deserve.M018[this.historyData[e].fileFormat-1].itemValue,this.historyData[e].createTime=new Date(+new Date(new Date(this.historyData[e].createTime).toJSON())+288e5).toISOString().replace(/T/g," ").replace(/\.[\d]{3}Z/,""),this.historyData[e].ttsLibrary=this.$store.state.parameter.deserve.M013[this.historyData[e].ttsLibrary-1].itemValue,this.historyData[e].ttsSpeed=this.$store.state.parameter.deserve.M016[this.historyData[e].ttsSpeed-1].itemValue,this.historyData[e].ttsStyle=this.$store.state.parameter.deserve.M015[this.historyData[e].ttsStyle-1].itemValue,this.historyData[e].fbGroundType=this.$store.state.parameter.deserve.M401[this.historyData[e].fbGroundType-1].itemValue;var i="data:audio/mpeg;base64,";this.frequency="",this.$axios({method:"get",url:this.baseURL+"/material/MaterialInfo/getFileByte",params:{infoid:this.historyData[e].infoId}}).then(function(e){console.log(e.data),0==e.data.code?(i+=e.data.result,a.frequency=i,t("#frequency")[0].src=i):1==e.data.code&&console.log(e.data.msg)}).catch(function(t){})},palyStop:function(){for(var e=t("audio"),a=0;a<e.length;a++)e[a].pause()},ok:function(t){this.$Message.info("OK!"),this.palyStop()},cancel:function(t){this.$Message.info("Clicked cancel"),this.palyStop()}}}}.call(e,a(253))},259:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Modal",{attrs:{title:"详情",width:"1000"},on:{"on-ok":t.ok,"on-cancel":t.cancel},model:{value:t.detailed,callback:function(e){t.detailed=e},expression:"detailed"}},[t.detailed?a("Form",{attrs:{"label-position":"right","label-width":120}},[a("Row",[a("Col",{attrs:{span:"11"}},[a("FormItem",{attrs:{label:"素材名称"}},[a("Input",{attrs:{disabled:""},model:{value:t.historyData[t.compile].infoName,callback:function(e){t.historyData[t.compile].infoName=e},expression:"historyData[compile].infoName"}})],1),t._v(" "),a("FormItem",{attrs:{label:"素材状态"}},[a("Select",{attrs:{clearable:"",disabled:""},model:{value:t.historyData[t.compile].commitStatus,callback:function(e){t.historyData[t.compile].commitStatus=e},expression:"historyData[compile].commitStatus"}},t._l(t.commitStatus,function(e){return a("Option",{key:e.itemValue,attrs:{value:e.itemValue}},[t._v(t._s(e.itemName))])}))],1),t._v(" "),a("FormItem",{attrs:{label:"素材类型"}},[a("Select",{attrs:{clearable:"",disabled:""},model:{value:t.historyData[t.compile].typeNo,callback:function(e){t.historyData[t.compile].typeNo=e},expression:"historyData[compile].typeNo"}},t._l(t.typeNo,function(e){return a("Option",{key:e.itemValue,attrs:{value:e.itemValue}},[t._v(t._s(e.itemName))])}))],1),t._v(" "),a("FormItem",{attrs:{label:"音库",prop:"ttsLibrary"}},[a("Select",{attrs:{clearable:"",disabled:""},model:{value:t.historyData[t.compile].ttsLibrary,callback:function(e){t.historyData[t.compile].ttsLibrary=e},expression:"historyData[compile].ttsLibrary"}},t._l(t.ttsLibrary,function(e){return a("Option",{key:e.itemValue,attrs:{value:e.itemValue}},[t._v(t._s(e.itemName))])}))],1),t._v(" "),a("FormItem",{attrs:{label:"语速",prop:"ttsSpeed"}},[a("Select",{attrs:{clearable:"",disabled:""},model:{value:t.historyData[t.compile].ttsSpeed,callback:function(e){t.historyData[t.compile].ttsSpeed=e},expression:"historyData[compile].ttsSpeed"}},t._l(t.ttsSpeed,function(e){return a("Option",{key:e.itemValue,attrs:{value:e.itemValue}},[t._v(t._s(e.itemName))])}))],1),t._v(" "),a("FormItem",{attrs:{label:"试听"}},[a("audio",{staticClass:"musicPlayPanel",staticStyle:{height:"30px",width:"320px"},attrs:{src:t.frequency,controls:"controls"}})])],1),t._v(" "),a("Col",{attrs:{span:"11"}},[a("FormItem",{attrs:{label:"素材编制人"}},[a("Input",{attrs:{value:t.historyData[t.compile].createUserName,disabled:""}})],1),t._v(" "),a("FormItem",{attrs:{label:"素材编制日期"}},[a("Input",{attrs:{value:t.historyData[t.compile].createTime,disabled:""}})],1),t._v(" "),a("FormItem",{attrs:{label:"素材语音格式"}},[a("Select",{attrs:{clearable:"",disabled:""},model:{value:t.historyData[t.compile].fileFormat,callback:function(e){t.historyData[t.compile].fileFormat=e},expression:"historyData[compile].fileFormat"}},t._l(t.fileFormat,function(e){return a("Option",{key:e.itemValue,attrs:{value:e.itemValue}},[t._v(t._s(e.itemName))])}))],1),t._v(" "),a("FormItem",{attrs:{label:"风格",prop:"ttsStyle"}},[a("Select",{attrs:{clearable:"",disabled:""},model:{value:t.historyData[t.compile].ttsStyle,callback:function(e){t.historyData[t.compile].ttsStyle=e},expression:"historyData[compile].ttsStyle"}},t._l(t.ttsStyle,function(e){return a("Option",{key:e.itemValue,attrs:{value:e.itemValue}},[t._v(t._s(e.itemName))])}))],1),t._v(" "),a("FormItem",{attrs:{label:"前背景类型",prop:"fbGroundType"}},[a("Select",{attrs:{clearable:"",disabled:""},model:{value:t.historyData[t.compile].fbGroundType,callback:function(e){t.historyData[t.compile].fbGroundType=e},expression:"historyData[compile].fbGroundType"}},t._l(t.fbGroundType,function(e){return a("Option",{key:e.itemValue,attrs:{value:e.itemValue}},[t._v(t._s(e.itemName))])}))],1),t._v(" "),a("FormItem",{attrs:{label:"素材大小"}},[a("Input",{attrs:{disabled:""},model:{value:t.historyData[t.compile].fileSize,callback:function(e){t.historyData[t.compile].fileSize=e},expression:"historyData[compile].fileSize"}})],1),t._v(" "),a("FormItem",{attrs:{label:"素材时长"}},[a("Span",{staticClass:"duration"},[t._v(t._s(t.historyData[t.compile].fileDuration))])],1)],1)],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"22"}},[a("FormItem",{attrs:{label:"素材文本信息"}},[a("Input",{attrs:{type:"textarea",disabled:""},model:{value:t.historyData[t.compile].infoComment,callback:function(e){t.historyData[t.compile].infoComment=e},expression:"historyData[compile].infoComment"}})],1)],1)],1)],1):t._e()],1)],1)},staticRenderFns:[]}},262:function(t,e,a){t.exports={default:a(264),__esModule:!0}},263:function(t,e,a){"use strict";e.__esModule=!0;var i=a(262),o=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=function(t,e,a){return e in t?(0,o.default)(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},264:function(t,e,a){a(265);var i=a(3).Object;t.exports=function(t,e,a){return i.defineProperty(t,e,a)}},265:function(t,e,a){var i=a(8);i(i.S+i.F*!a(7),"Object",{defineProperty:a(9).f})},277:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(252),o=a.n(i),r=a(263),s=a.n(r),n=a(234),l=a.n(n),c=a(232),m=a.n(c),u=a(45),d=a.n(u),p=a(251);e.default={components:{detail:l.a,audition:m.a},data:function(){var t=this,e=this.$store.state.parameter.deserve;return s()({fileSize:null,selectData:"",ajaxHistoryData:[],dataCount:1,pageSize:10,below:0,materialDemand:{infoName:"",reviewUserName:"",commitStatus:e.M003[1].itemValue,startTime:a.i(p.f)(3),endTime:a.i(p.b)()},ruleValidate:{infoName:[{required:!0,message:"The name cannot be empty",trigger:"blur"}]},accordion_value:"1",modal1:!1,compile:0,commitStatus:e.M003,reviewUserName:this.$store.state.user.name,reviewDate:a.i(p.b)(),reviewInfo:"",commitStatu:"",cacheData:{},historyColumns:[{title:"素材编号",key:"infoId",width:130},{title:"素材名称",key:"infoName",width:100},{title:"素材状态",key:"commitStatus",width:110,render:function(t,a){for(var i="",o=0;o<e.M003.length;o++)a.row.commitStatus==o+1&&(i=e.M003[o].itemName);return t("div",{props:{}},i)}},{title:"素材类型",key:"typeNo",width:100,render:function(t,a){for(var i="",o=0;o<e.M005.length;o++)a.row.typeNo==o+1&&(i=e.M005[o].itemName);return t("div",{props:{}},i)}},{title:"编制节点编号",key:"compileNodeId",width:130},{title:"编制节点名称",key:"compileNodeName",width:130},{title:"编制人",key:"createUserName",width:100},{title:"编制日期",key:"createTime",sortable:!0,width:150,render:function(t,e){return t("div",a.i(p.c)(e.row.createTime))}},{title:"语音格式",key:"fileFormat",width:100,render:function(t,a){for(var i="",o=0;o<e.M018.length;o++)a.row.fileFormat==o+1&&(i=e.M018[o].itemName);return t("div",{props:{}},i)}},{title:"文本信息",key:"infoComment",width:150},{title:"素材大小",key:"fileSize",width:100},{title:"素材时长",key:"fileDuration",width:100},{title:"描述",key:"infoComment",width:100},{title:"审核人",key:"reviewUserName",width:100},{title:"操做",key:"action",width:150,align:"right",fixed:"right",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.detailedMaterial(a.index)}}},"详情"),e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.audition(a.index)}}},"试听"),e("Button",{props:{type:"error",size:"small"},on:{click:function(){t.assessor(a.index)}}},"审核")])}}],historyData:[]},"cacheData",{})},methods:{assessor:function(t){this.modal1=!0},detailedMaterial:function(t){var e=this;this.$nextTick(function(){e.$refs.detail.details(t)})},audition:function(t){var e=this;this.$nextTick(function(){e.$refs.audition.audition(t)})},auditSubmit:function(){this.cacheData=JSON.parse(o()(this.historyData[this.compile]));var t=new FormData;this.cacheData.reviewUserId="01ZZZZ01"+this.$store.state.user.uid,this.cacheData.commitStatus=this.commitStatu,this.cacheData.reviewUserName=this.$store.state.user.name,this.cacheData.reviewInfo=this.reviewInfo,this.cacheData.createTime=a.i(p.c)(this.historyData[this.compile].createTime),this.cacheData.reviewDate=a.i(p.c)(new Date);for(var e in this.cacheData)t.append(e,this.cacheData[e]);this.$axios({method:"post",data:t,url:this.baseURL+"/material/MaterialInfo/update_Material"}).then(function(t){console.log(t),"200"==t.status&&("0"==t.data.code?alert("Success!"):alert(t.data.msg))}).catch(function(t){})},ok:function(){var t=this;this.$Message.info("OK!"),setTimeout(function(){t.loading=!1,t.$nextTick(function(){t.loading=!0})},2e3)},cancel:function(){this.$Message.info("Clicked cancel")},handleListApproveHistory:function(){this.dataCount=1,""!=this.materialDemand.startTime&&(this.materialDemand.startTime=a.i(p.c)(this.materialDemand.startTime)),""!=this.materialDemand.endTime&&(this.materialDemand.endTime=a.i(p.c)(this.materialDemand.endTime));var t=this;this.$axios({method:"post",url:this.baseURL+"/material/MaterialInfo/getList?currentPage="+this.dataCount+"&pageSize="+t.pageSize+"&offset=0",params:this.materialDemand}).then(function(e){console.log(e.data.list),t.ajaxHistoryData=e.data.list,t.dataCount=e.data.total,t.historyData=t.ajaxHistoryData}).catch(function(t){})},pages:function(t){this.pageSize=t,this.changepage(1)},changepage:function(t){this.below=t;var e=d.a.get("status"),a=this;this.$axios({headers:{Authorization:e},method:"post",url:this.baseURL+"/material/MaterialInfo/getList?currentPage="+a.below+"&pageSize="+a.pageSize+"&nextPage="+a.below,params:this.materialDemand}).then(function(t){a.historyData=t.data.list}).catch(function(t){})}},created:function(){this.handleListApproveHistory()},mounted:function(){},beforeDestroy:function(){}}},294:function(t,e,a){e=t.exports=a(230)(!0),e.push([t.i,"\n.listfile{padding:15px 0 15px 0;\n}\n/* .ivu-checkbox-wrapper{display: none} */\n.vue-treeselect__control{height:33px !important\n}\n","",{version:3,sources:["D:/2020/BJSubway/src/views/material/auditMaterial.vue"],names:[],mappings:";AACA,UAAU,sBAAsB;CAC/B;AACD,0CAA0C;AAC1C,yBAAyB,sBAAsB;CAC9C",file:"auditMaterial.vue",sourcesContent:["\n.listfile{padding:15px 0 15px 0;\n}\n/* .ivu-checkbox-wrapper{display: none} */\n.vue-treeselect__control{height:33px !important\n}\n"],sourceRoot:""}])},307:function(t,e,a){var i=a(294);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(231)("26f1c95b",i,!0)},319:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"staple"},[a("Row",{attrs:{gutter:12}},[a("Col",{attrs:{span:"3"}},[a("Input",{attrs:{clearable:"",placeholder:"素材名称"},model:{value:t.materialDemand.infoName,callback:function(e){t.materialDemand.infoName=e},expression:"materialDemand.infoName"}})],1),t._v(" "),a("Col",{attrs:{span:"3"}},[a("Input",{attrs:{clearable:"",placeholder:"审核人名称"},model:{value:t.materialDemand.reviewUserName,callback:function(e){t.materialDemand.reviewUserName=e},expression:"materialDemand.reviewUserName"}})],1),t._v(" "),a("Col",{attrs:{span:"3"}},[a("Select",{attrs:{placeholder:"审核状态"},model:{value:t.materialDemand.commitStatus,callback:function(e){t.materialDemand.commitStatus=e},expression:"materialDemand.commitStatus"}},[t._l(t.commitStatus,function(e){return[1!=e.itemValue&&5!=e.itemValue?a("Option",{key:e.itemValue,attrs:{value:e.itemValue}},[t._v(t._s(e.itemName))]):e.itemValue?a("Option",{key:e.itemValue,staticStyle:{display:"none"},attrs:{value:e.itemValue}},[t._v(t._s(e.itemName))]):t._e()]})],2)],1),t._v(" "),a("Col",{attrs:{span:"3"}},[a("DatePicker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm",placeholder:"开始时间"},model:{value:t.materialDemand.startTime,callback:function(e){t.materialDemand.startTime=e},expression:"materialDemand.startTime"}})],1),t._v(" "),a("Col",{attrs:{span:"3"}},[a("DatePicker",{attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm",placeholder:"结束时间"},model:{value:t.materialDemand.endTime,callback:function(e){t.materialDemand.endTime=e},expression:"materialDemand.endTime"}})],1),t._v(" "),a("Col",{attrs:{span:"2"}},[a("Button",{attrs:{type:"primary",icon:"md-search"},on:{click:function(e){t.handleListApproveHistory()}}},[t._v("查询")])],1)],1),t._v(" "),a("div",{staticClass:"listfile"},[a("Table",{ref:"selection",attrs:{border:"",columns:t.historyColumns,data:t.historyData}}),t._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:t.dataCount,"page-size":t.pageSize,"show-total":""},on:{"on-change":t.changepage}})],1)])],1),t._v(" "),a("Modal",{attrs:{title:"审核信息",width:"600"},on:{"on-ok":t.auditSubmit,"on-cancel":t.cancel},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[a("Form",{attrs:{"label-position":"right","label-width":120}},[a("Row",[a("Col",{attrs:{span:"20"}},[a("FormItem",{attrs:{label:"审核状态：",prop:"lable"}},[a("Select",{staticStyle:{width:"170px"},attrs:{"aria-placeholder":"请选择"},model:{value:t.commitStatu,callback:function(e){t.commitStatu=e},expression:"commitStatu"}},[t._l(t.commitStatus,function(e){return[3!=e.itemValue&&4!=e.itemValue?a("Option",{key:e.itemValue,staticStyle:{display:"none"},attrs:{value:e.itemValue}},[t._v(t._s(e.itemName))]):e.itemValue?a("Option",{key:e.itemValue,attrs:{value:e.itemValue}},[t._v(t._s(e.itemName))]):t._e()]})],2)],1),t._v(" "),a("FormItem",{attrs:{label:"审核人："}},[a("span",[t._v(t._s(t.reviewUserName))])]),t._v(" "),a("FormItem",{attrs:{label:"审核时间："}},[a("span",[t._v(t._s(t.reviewDate))])]),t._v(" "),a("FormItem",{attrs:{label:"审核意见："}},[a("Input",{attrs:{type:"textarea"},model:{value:t.reviewInfo,callback:function(e){t.reviewInfo=e},expression:"reviewInfo"}})],1)],1)],1)],1)],1),t._v(" "),a("detail",{ref:"detail",attrs:{historyData:t.historyData}}),t._v(" "),a("audition",{ref:"audition",attrs:{historyData:t.historyData}})],1)},staticRenderFns:[]}}});
//# sourceMappingURL=1.c2e705858d48982c8aab.js.map